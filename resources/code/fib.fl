<?xml version="1.0"?>
<fbml version="0.0">
    
    <method id="fib-zero-one">
        <require name="method_name">Fibonacci</require>
        <require name="sources">
            <source slot="0" id="a" />
        </require>
        <ensure name="sinks">
            <sink slot="0" id="b" />
        </ensure>
    </method>

    <impl method_id="fib-zero-one">
        <function id="f1">
            <extend name="method_name">DoNothing</extend>
            <source slot="0" sink_id="a" />
            <sink slot="0" id="b" />
        </function>
    </impl>

    <method id="fib-other">
        <require name="method_name">Fibonacci</require>
        <require name="sources">
            <source slot="0" id="a" />
        </require>
        <ensure name="sinks">
            <sink slot="0" id="b" />
        </ensure>
    </method>

    <impl method_id="fib-other">

        <function id="f1">
            <extend name="method_name">Constant</extend>
            <sink slot="0" id="c1" />
        </function>

        <function id="f2">
            <extend name="method_name">Constant</extend>
            <sink slot="0" id="c2" />
        </function>

        <function id="f3">
            <extend name="method_name">Substract</extend>
            <source slot="0" sink_id="a" />
            <source slot="1" sink_id="c1" />
            <sink slot="0" id="n1" />
        </function>

        <function id="f4">
            <extend name="method_name">Substract</extend>
            <source slot="0" sink_id="a" />
            <source slot="1" sink_id="c2" />
            <sink slot="0" id="n2" />
        </function>

        <function id="f5">
            <extend name="method_name">Fibonacci</extend>
            <source slot="0" sink_id="n1" />
            <sink slot="0" id="f_1" />
        </function>

        <function id="f6">
            <extend name="method_name">Fibonacci</extend>
            <source slot="0" sink_id="n2" />
            <sink slot="0" id="f_2" />
        </function>

        <function id="f7">
            <extend name="method_name">Add</extend>
            <source slot="0" sink_id="f_1" />
            <source slot="1" sink_id="f_2" />
            <sink slot="0" id="b" />
        </function>

    </impl>

</fbml>
